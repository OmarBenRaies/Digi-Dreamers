{% extends 'front/base.html.twig' %}

{% block stylesheets %}
<style>
    .error-message{
        display: none;
        color: red;
    }

    .single-input-fields{
        margin-bottom: 10px;
    }

    .input-error{
        border: 1px solid red !important;
    }
</style>
{% endblock %}

{% block header %}

{% endblock %}

{% block body %}
    <div class="login-form-area">
        {{ form_start(userform, {'attr': {'novalidate': 'novalidate'}}) }}
        <div class="login-form">

            <div class="login-heading">
                <span>Sign Up</span>
                <p>Create your account to get full access</p>
            </div>

            <div class="input-box">
                <div class="single-input-fields">
                    <div class="row">
                        <div class="col">
                            <label>Nom</label>
                            {{ form_widget(userform.nom, { 'attr' : { 'placeholder' : 'Nom' } }) }}
                            <p id="error-nom" class="error-message"></p>
                        </div>
                        <div class="col">
                            <label>Prenom</label>
                            {{ form_widget(userform.prenom, { 'attr' : { 'placeholder' : 'Prenom' } }) }}
                            <p id="error-prenom" class="error-message"></p>
                        </div>
                    </div>

                </div>

                <div class="single-input-fields">
                    <label>Email</label>
                    {{ form_widget(userform.email, { 'attr' : { 'placeholder':'Email' } }) }}
                    <p id="error-email" class="error-message"></p>
                </div>

                <div class="single-input-fields">
                    <label>Password</label>
                    {{ form_widget(userform.password, { 'attr' : { 'placeholder' : 'Enter Password' } }) }}
                    <p id="error-password" class="error-message"></p>
                </div>

                <div class="single-input-fields">
                    <label>Confirm password</label>
                    {{ form_widget(userform.confirmPassword, { 'attr' : { 'placeholder' : 'confirm Password' } }) }}
                    <p id="error-confirmPassword" class="error-message"></p>
                </div>

                <div class="single-input-fields">
                    <label>Telephone</label>
                    {{ form_widget(userform.telephone, { 'attr' : { 'class' : 'form-control' } }) }}
                    <p id="error-telephone" class="error-message"></p>
                </div>

                <div class="single-input-fields">
                    <label>CIN</label>
                    {{ form_widget(userform.cin, { 'attr' : { 'class' : 'form-control' } }) }}
                    <p id="error-cin" class="error-message"></p>
                </div>

                <div class="single-input-fields">
                    <label>Role</label>
                    {{ form_widget(userform.role, { 'attr' : { 'class' : 'form-control' } }) }}
                </div>


            </div>

            <div class="login-footer">
                {{ form_widget(userform.submit, { 'attr' : { 'class' : 'submit-btn3' } }) }}
            </div>
        </div>
        {{ form_end(userform) }}
    </div>


{% endblock %}

{% block footer %}

{% endblock %}

{% block javascripts %}
<script src="{{ asset('assets/js/sweetalert2@11.js') }}"></script>
<script>
    {% if message is defined %}
        Swal.fire({
            icon: 'success',
            title: 'Verifier votre compte',
            text: "{{ message|raw }}",
        })
    {% endif %}

    {% if errors|length > 0  %}
        {% for error in errors %}
            document.getElementById("user_{{ error.propertyPath }}").classList.add('input-error')
            document.getElementById("error-{{ error.propertyPath }}").style.display = "block"
            document.getElementById("error-{{ error.propertyPath }}").innerText = "{{ error.message|raw }}"
        {% endfor %}
    {% endif %}
</script>


{% endblock %}